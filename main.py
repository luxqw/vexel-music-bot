import os
import logging
import discord
import asyncio
from discord.ext import commands
from discord import app_commands
import yt_dlp

TOKEN = os.getenv("DISCORD_TOKEN")

intents = discord.Intents.default()
intents.message_content = True
intents.voice_states = True
intents.guilds = True

bot = commands.Bot(command_prefix="/", intents=intents)
tree = bot.tree
queues = {}

logging.basicConfig(filename="bot.log", level=logging.INFO)

# –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É cookies
def get_ytdl_opts():
    """–ü–æ–ª—É—á–∏—Ç—å ytdl_opts —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π cookies"""
    ytdl_opts = {
        "format": "bestaudio",
        "noplaylist": False,
    }
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–∞–π–ª cookies
    cookies_file = os.getenv("YOUTUBE_COOKIES_FILE")
    if cookies_file and os.path.exists(cookies_file):
        ytdl_opts["cookiefile"] = cookies_file
        print(f"‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º YouTube cookies: {cookies_file}")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ cookies
    browser_cookies = os.getenv("YOUTUBE_BROWSER_COOKIES")
    if browser_cookies and not cookies_file:
        try:
            browser, profile = browser_cookies.split(",", 1)
            ytdl_opts["cookiesfrombrowser"] = (browser.strip(), profile.strip())
            print(f"‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º cookies –±—Ä–∞—É–∑–µ—Ä–∞: {browser} ({profile})")
        except ValueError:
            print(f"‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç YOUTUBE_BROWSER_COOKIES: {browser_cookies}")
    
    return ytdl_opts

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º ytdl —Å cookies
ytdl_opts = get_ytdl_opts()
ytdl = yt_dlp.YoutubeDL(ytdl_opts)

def log_command(user, command):
    logging.info(f"{user} –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª {command}")

def get_queue(guild_id):
    return queues.setdefault(guild_id, [])

def create_source(url):
    return discord.FFmpegPCMAudio(
        url,
        before_options="-reconnect 1 -reconnect_streamed 1 -reconnect_delay_max 5",
        options='-vn'
    )

def is_age_restricted_error(error):
    """–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ—à–∏–±–∫–∞ —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å age-restriction"""
    error_str = str(error).lower()
    age_restricted_keywords = [
        "age-restricted",
        "sign in to confirm your age",
        "video is age restricted", 
        "sign in to confirm",
        "login required"
    ]
    return any(keyword in error_str for keyword in age_restricted_keywords)

@bot.event
async def on_ready():
    print(f"‚úÖ –í–æ—à–ª–∏ –∫–∞–∫ {bot.user}")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ cookies –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
    cookies_file = os.getenv("YOUTUBE_COOKIES_FILE")
    browser_cookies = os.getenv("YOUTUBE_BROWSER_COOKIES")
    
    if cookies_file and os.path.exists(cookies_file):
        print("üîê YouTube cookies –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (—Ñ–∞–π–ª)")
    elif browser_cookies:
        print("üîê YouTube cookies –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (–±—Ä–∞—É–∑–µ—Ä)")
    else:
        print("‚ÑπÔ∏è YouTube cookies –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (age-restricted –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)")
    
    await bot.change_presence(activity=discord.Activity(
        type=discord.ActivityType.listening,
        name="/help"
    ))
    try:
        synced = await tree.sync()
        print(f"üì° –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã {len(synced)} –∫–æ–º–∞–Ω–¥(—ã)")
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ sync: {e}")

@bot.event
async def on_voice_state_update(member, before, after):
    if member.bot:
        return

    vc = discord.utils.get(bot.voice_clients, guild=member.guild)

    if vc and vc.channel and len(vc.channel.members) == 1: 
        if vc.is_playing():
            vc.pause() 
            print("‚è∏Ô∏è –ú—É–∑—ã–∫–∞ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞, —Ç–∞–∫ –∫–∞–∫ –±–æ—Ç –æ—Å—Ç–∞–ª—Å—è –æ–¥–∏–Ω –≤ –∫–∞–Ω–∞–ª–µ.")

        await asyncio.sleep(60)  
        if len(vc.channel.members) == 1:  
            await vc.disconnect()
            print(f"‚èπÔ∏è –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞ {vc.channel.name} –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ {member.guild.name}")

@tree.command(name="play", description="–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –º—É–∑—ã–∫—É –∏–ª–∏ –ø–ª–µ–π–ª–∏—Å—Ç —Å YouTube")
@app_commands.describe(query="–°—Å—ã–ª–∫–∞ –∏–ª–∏ –∑–∞–ø—Ä–æ—Å")
async def play(interaction: discord.Interaction, query: str):
    log_command(interaction.user.name, "/play")

    vc = interaction.guild.voice_client
    if not vc:
        if interaction.user.voice and interaction.user.voice.channel:
            vc = await interaction.user.voice.channel.connect()
        else:
            await interaction.response.send_message("‚ö†Ô∏è –°–Ω–∞—á–∞–ª–∞ –∑–∞–π–¥–∏—Ç–µ –≤ –≥–æ–ª–æ—Å–æ–≤–æ–π –∫–∞–Ω–∞–ª.")
            return

    if query.startswith("http://") or query.startswith("https://"):
        await interaction.response.send_message(f"üîó –î–æ–±–∞–≤–ª—è—é –ø–æ —Å—Å—ã–ª–∫–µ: {query}")
    else:
        await interaction.response.send_message(f"üîç –ò—â—É: {query}")

    search_query = f"ytsearch1:{query}" if not (query.startswith("http://") or query.startswith("https://")) else query

    try:
        info = ytdl.extract_info(search_query, download=False)
    except Exception as e:
        # –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ age-restriction
        if is_age_restricted_error(e):
            cookies_configured = os.getenv("YOUTUBE_COOKIES_FILE") or os.getenv("YOUTUBE_BROWSER_COOKIES")
            if cookies_configured:
                await interaction.followup.send(
                    "üîû **–ö–æ–Ω—Ç–µ–Ω—Ç —Å –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏**\n"
                    "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ cookies.\n"
                    "üîÑ –í–æ–∑–º–æ–∂–Ω–æ, cookies —É—Å—Ç–∞—Ä–µ–ª–∏ –∏–ª–∏ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã.\n"
                    "üí° –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å cookies –∏–ª–∏ –Ω–∞–π—Ç–∏ –¥—Ä—É–≥—É—é –≤–µ—Ä—Å–∏—é –∫–æ–Ω—Ç–µ–Ω—Ç–∞."
                )
            else:
                await interaction.followup.send(
                    "üîû **–ö–æ–Ω—Ç–µ–Ω—Ç —Å –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏**\n"
                    "‚ùå –≠—Ç–æ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ YouTube.\n"
                    "üîê –î–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è 18+ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å cookies.\n"
                    "üí° –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–π—Ç–∏ –¥—Ä—É–≥—É—é –≤–µ—Ä—Å–∏—é: `cover`, `lyrics`, `instrumental`"
                )
        else:
            await interaction.followup.send(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–∞: {str(e)}")
        return

    queue = get_queue(interaction.guild.id)

    if "entries" in info:
        for entry in info["entries"]:
            queue.append({
                "title": entry["title"],
                "url": entry["url"],
                "requester": interaction.user.name,
            })
        await interaction.followup.send(f"üìÉ –î–æ–±–∞–≤–ª–µ–Ω –ø–ª–µ–π–ª–∏—Å—Ç: {len(info['entries'])} —Ç—Ä–µ–∫–æ–≤.")
    else:
        track = {
            "title": info["title"],
            "url": info["url"],
            "requester": interaction.user.name,
        }
        queue.append(track)
        await interaction.followup.send(f"üé∂ –î–æ–±–∞–≤–ª–µ–Ω —Ç—Ä–µ–∫: {track['title']}")

    if not vc.is_playing():
        await play_next(vc, interaction.guild.id)

# –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è cookies (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)
@tree.command(name="test_cookies", description="–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å YouTube cookies (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)")
async def test_cookies(interaction: discord.Interaction):
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    if not interaction.user.guild_permissions.administrator:
        await interaction.response.send_message("‚ùå –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º.", ephemeral=True)
        return
    
    log_command(interaction.user.name, "/test_cookies")
    await interaction.response.send_message("üîê –¢–µ—Å—Ç–∏—Ä—É—é YouTube cookies...")
    
    # –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å –∏–∑–≤–µ—Å—Ç–Ω—ã–º age-restricted –≤–∏–¥–µ–æ
    test_url = "https://www.youtube.com/watch?v=UazDDkQ8Ra8"  # age-restricted
    
    try:
        test_info = ytdl.extract_info(test_url, download=False)
        
        embed = discord.Embed(
            title="üîê –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞ cookies",
            color=0x00ff00
        )
        
        embed.add_field(
            name="‚úÖ –¢–µ—Å—Ç —É—Å–ø–µ—à–µ–Ω",
            value="Age-restricted –∫–æ–Ω—Ç–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–µ–Ω!",
            inline=False
        )
        
        embed.add_field(
            name="üéµ –¢–µ—Å—Ç–æ–≤–æ–µ –≤–∏–¥–µ–æ",
            value=f"**{test_info.get('title', '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ')}**",
            inline=False
        )
        
        cookies_file = os.getenv("YOUTUBE_COOKIES_FILE")
        browser_cookies = os.getenv("YOUTUBE_BROWSER_COOKIES")
        
        if cookies_file:
            embed.add_field(name="üç™ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ cookies", value=f"–§–∞–π–ª: `{cookies_file}`", inline=False)
        elif browser_cookies:
            embed.add_field(name="üç™ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ cookies", value=f"–ë—Ä–∞—É–∑–µ—Ä: `{browser_cookies}`", inline=False)
        
        await interaction.followup.send(embed=embed)
        
    except Exception as e:
        embed = discord.Embed(
            title="üîê –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞ cookies", 
            color=0xff0000
        )
        
        if is_age_restricted_error(e):
            embed.add_field(
                name="‚ùå –¢–µ—Å—Ç –Ω–µ—É–¥–∞—á–µ–Ω",
                value="Age-restricted –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω",
                inline=False
            )
            
            cookies_file = os.getenv("YOUTUBE_COOKIES_FILE")
            browser_cookies = os.getenv("YOUTUBE_BROWSER_COOKIES")
            
            if cookies_file or browser_cookies:
                embed.add_field(
                    name="üîç –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã",
                    value="‚Ä¢ Cookies —É—Å—Ç–∞—Ä–µ–ª–∏\n‚Ä¢ –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç cookies\n‚Ä¢ Cookies –æ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞ –±–µ–∑ –≤–æ–∑—Ä–∞—Å—Ç–Ω–æ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏",
                    inline=False
                )
            else:
                embed.add_field(
                    name="üîç –ü—Ä–∏—á–∏–Ω–∞",
                    value="Cookies –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã",
                    inline=False
                )
        else:
            embed.add_field(
                name="‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∞",
                value=f"```{str(e)[:200]}...```",
                inline=False
            )
        
        await interaction.followup.send(embed=embed)

async def play_next(vc, guild_id):
    queue = get_queue(guild_id)
    if not queue:
        return

    next_track = queue.pop(0)
    source = create_source(next_track["url"])

    vc.play(source, after=lambda e: bot.loop.create_task(play_next(vc, guild_id)))

@tree.command(name="pause", description="–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ")
async def pause(interaction: discord.Interaction):
    log_command(interaction.user.name, "/pause")
    vc = interaction.guild.voice_client
    if vc and vc.is_playing():
        vc.pause()
        await interaction.response.send_message("‚è∏Ô∏è –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ.")
    else:
        await interaction.response.send_message("‚ùå –°–µ–π—á–∞—Å –Ω–∏—á–µ–≥–æ –Ω–µ –∏–≥—Ä–∞–µ—Ç.")

@tree.command(name="resume", description="–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ")
async def resume(interaction: discord.Interaction):
    log_command(interaction.user.name, "/resume")
    vc = interaction.guild.voice_client
    if vc and vc.is_paused():
        vc.resume()
        await interaction.response.send_message("‚ñ∂Ô∏è –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–æ.")
    else:
        await interaction.response.send_message("‚ùå –ú—É–∑—ã–∫–∞ –Ω–µ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.")

@tree.command(name="stop", description="–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∏ –æ—á–∏—Å—Ç–∏—Ç—å –æ—á–µ—Ä–µ–¥—å")
async def stop(interaction: discord.Interaction):
    log_command(interaction.user.name, "/stop")
    vc = interaction.guild.voice_client
    if vc:
        vc.stop()
        await vc.disconnect()
        queues[interaction.guild.id] = []
        await interaction.response.send_message("‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∏ –æ—Ç–∫–ª—é—á–µ–Ω–æ.")
    else:
        await interaction.response.send_message("‚ùå –ë–æ—Ç –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –≥–æ–ª–æ—Å–æ–≤–æ–º—É –∫–∞–Ω–∞–ª—É.")

@tree.command(name="skip", description="–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–µ–∫—É—â—É—é –ø–µ—Å–Ω—é")
async def skip(interaction: discord.Interaction):
    log_command(interaction.user.name, "/skip")
    vc = interaction.guild.voice_client
    if vc and vc.is_playing():
        vc.stop()
        await interaction.response.send_message("‚è≠Ô∏è –¢—Ä–µ–∫ –ø—Ä–æ–ø—É—â–µ–Ω.")
    else:
        await interaction.response.send_message("‚ùå –°–µ–π—á–∞—Å –Ω–∏—á–µ–≥–æ –Ω–µ –∏–≥—Ä–∞–µ—Ç.")

@tree.command(name="queue", description="–ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –æ—á–µ—Ä–µ–¥—å")
async def queue_cmd(interaction: discord.Interaction):
    log_command(interaction.user.name, "/queue")
    queue = get_queue(interaction.guild.id)
    if queue:
        text = "\n".join([f"{i+1}. {song['title']} (–æ—Ç {song['requester']})" for i, song in enumerate(queue)])
        await interaction.response.send_message(f"üìÉ –û—á–µ—Ä–µ–¥—å:\n{text}")
    else:
        await interaction.response.send_message("üì≠ –û—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞.")

@tree.command(name="help", description="–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∫–æ–º–∞–Ω–¥–∞–º")
async def help_cmd(interaction: discord.Interaction):
    log_command(interaction.user.name, "/help")
    
    embed = discord.Embed(
        title="üìñ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞",
        description="–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º—É–∑—ã–∫–æ–π",
        color=0x0099ff
    )
    
    embed.add_field(
        name="üéµ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã",
        value=(
            "`/play <url –∏–ª–∏ –∑–∞–ø—Ä–æ—Å>` ‚Äî –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Ç—Ä–µ–∫–∞\n"
            "`/pause` ‚Äî –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é –ø–µ—Å–Ω—é\n"
            "`/resume` ‚Äî –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ\n"
            "`/stop` ‚Äî –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∏ –æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\n"
            "`/skip` ‚Äî –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–µ–∫—É—â—É—é –ø–µ—Å–Ω—é\n"
            "`/queue` ‚Äî –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –æ—á–µ—Ä–µ–¥—å"
        ),
        inline=False
    )
    
    embed.add_field(
        name="üîß –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ",
        value="`/test_cookies` ‚Äî –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å YouTube cookies",
        inline=False
    )
    
    embed.add_field(
        name="üîû Age-restricted –∫–æ–Ω—Ç–µ–Ω—Ç",
        value="–î–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ 18+ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ YouTube cookies –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.",
        inline=False
    )
    
    await interaction.response.send_message(embed=embed)

bot.run(TOKEN)
